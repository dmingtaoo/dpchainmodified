[2023-12-14 11:05:54] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0, msgcode: 6

[2023-12-14 11:05:54] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 79f9062bfd04143fce59ed721a1a38400d43487ae6beebb3fd05ba8d02445bd49c01683ed09ed536f1e3ea17a856c96df885a6e165995601b6478bcaaebf1ea3, msgcode: 6

[2023-12-14 11:05:54] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 04d9d9f799e097007cf2133a88c3f39c066790b5dae8358b4aadca6e1c582f9629795aa33081e981fda8419a2942071e05293e397adf33966ca8ca06376ee452, msgcode: 6

[2023-12-14 11:05:54] [info] consensusPromoter.go:456 dpchain/core/consensus.(*ConsensusPromoter).PublishTransactions [TPBFT Consensus] Current Consensus Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) has published new transactions (count:1) and broadcast within lower group (net0)!

[2023-12-14 11:05:55] [info] consensusPromoter.go:253 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: Current Consensus Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) has receive pre-prepare Message from Leader (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0) within group (net0)

[2023-12-14 11:05:55] [info] consensusPromoter.go:256 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: Leader (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) doesn't have corresponding roundHandler, Waiting for creation....

[2023-12-14 11:05:55] [info] transactionPool.go:195 dpchain/core/eles.(*TransactionPool).QuickFindTxs 即将被添加的交易 ： e86d46089b35d9f4acf0616bc91f594f10a09b5e6e036e7414c72e951e0e126c

[2023-12-14 11:05:55] [info] transactionPool.go:209 dpchain/core/eles.(*TransactionPool).QuickFindTxs QuickFind获取的结果, 第0条交易： e86d46089b35d9f4acf0616bc91f594f10a09b5e6e036e7414c72e951e0e126c

[2023-12-14 11:05:55] [info] consensusPromoter.go:302 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: The new roundHandler (roundID:e3f9e8e96b198ec51fd71d4cb0b9c26d65d0b369d47a424dd3696b154d332460) has been created and being running

[2023-12-14 11:05:55] [info] blockChain.go:537 dpchain/core/eles.(*BlockChain).StaleCheck [Block Chain] StaleCheck 被调用

[2023-12-14 11:05:55] [info] consensusPromoter.go:249 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus failed: Leader (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) doesn't have corresponding roundHandler, Cann't process messages of non-StatePrePrepare Msg!

[2023-12-14 11:05:55] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0, msgcode: 2

[2023-12-14 11:05:55] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 79f9062bfd04143fce59ed721a1a38400d43487ae6beebb3fd05ba8d02445bd49c01683ed09ed536f1e3ea17a856c96df885a6e165995601b6478bcaaebf1ea3, msgcode: 2

[2023-12-14 11:05:55] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 04d9d9f799e097007cf2133a88c3f39c066790b5dae8358b4aadca6e1c582f9629795aa33081e981fda8419a2942071e05293e397adf33966ca8ca06376ee452, msgcode: 2

[2023-12-14 11:05:55] [info] roundHandler.go:286 dpchain/core/consensus.(*roundHandler).SendPrepareMsg [TPBFT Consensus] Lower Channel: Current Consensus Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) has broadcast prepareMsg within roundID (e3f9e8e96b198ec51fd71d4cb0b9c26d65d0b369d47a424dd3696b154d332460)

[2023-12-14 11:05:55] [info] roundHandler.go:161 dpchain/core/consensus.(*roundHandler).Start [TPBFT Consensus] Lower Channel: roudHandler with round ID: e3f9e8e96b198ec51fd71d4cb0b9c26d65d0b369d47a424dd3696b154d332460 starts to running!

[2023-12-14 11:05:55] [info] roundHandler.go:113 dpchain/core/consensus.(*roundHandler).processMsg [TPBFT Consensus] Lower Consensus: Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) receive validated PrepareMsg from Node (04d9d9f799e097007cf2133a88c3f39c066790b5dae8358b4aadca6e1c582f9629795aa33081e981fda8419a2942071e05293e397adf33966ca8ca06376ee452) and has added it into roundHandler.prepareMsgPool

[2023-12-14 11:05:55] [info] roundHandler.go:113 dpchain/core/consensus.(*roundHandler).processMsg [TPBFT Consensus] Lower Consensus: Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) receive validated PrepareMsg from Node (79f9062bfd04143fce59ed721a1a38400d43487ae6beebb3fd05ba8d02445bd49c01683ed09ed536f1e3ea17a856c96df885a6e165995601b6478bcaaebf1ea3) and has added it into roundHandler.prepareMsgPool

[2023-12-14 11:05:55] [info] roundHandler.go:200 dpchain/core/consensus.(*roundHandler).Do [TPBFT Consensus] Lower Channel: Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) has completed the prepare phase consensus, validOrder:[1]

[2023-12-14 11:05:55] [info] tpbt_common.go:277 dpchain/core/consensus.(*Ctpbft).TidyTransactions [TPBFT Consensus] Ctpbft: Leader (488e4b944d228f1f01892cfc5bfc060ed37e2f62) Tidy candidateBlock successfully, blockID:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5, txSum:1

[2023-12-14 11:05:55] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0, msgcode: 2

[2023-12-14 11:05:55] [info] roundHandler.go:238 dpchain/core/consensus.(*roundHandler).Do [TPBFT Consensus] Lower Channel: Node (8870562e71780cf4a47227af51e09252a98f5461d2d94d20e84db4d6e79a41c09d15ca88bd99a2c33847133d1e134e8e58eb745e3b87240810818f5f235bc4a9) has completed the tidy phase consensus and has sent CommitMsg to the Leader (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0)

[2023-12-14 11:05:55] [info] roundHandler.go:170 dpchain/core/consensus.(*roundHandler).Stop.func1 [TPBFT Consensus] Lower Channel: roudHandler with round ID: e3f9e8e96b198ec51fd71d4cb0b9c26d65d0b369d47a424dd3696b154d332460 stop!

[2023-12-14 11:05:57] [info] synchronization.go:451 dpchain/blockSync.(*SyncProtocal).syncer Block synchronization: Start block synchronization with node (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0)...  ---  local node currentHeight (6), remote node currentHeight (7)

[2023-12-14 11:05:57] [info] downloader.go:150 dpchain/blockSync/downloader.(*Downloader).Synchronise Block synchronization downloader: Attempting synchronise with node (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0)... RemoteCurrentVersion (5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5) RemoteCurrentHeight (7)

[2023-12-14 11:05:57] [info] downloader.go:229 dpchain/blockSync/downloader.(*Downloader).FindAncestor Block synchronization downloader: Attempting to query the common ancestor block with node (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0) ...

[2023-12-14 11:05:57] [info] blockChain.go:397 dpchain/core/eles.(*BlockChain).GetCurrentBlock [Block Chain] GetCurrentBlock 被调用

[2023-12-14 11:05:57] [info] blockChain.go:286 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 被调用

[2023-12-14 11:05:57] [info] blockChain.go:313 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 调用结束

[2023-12-14 11:05:57] [info] downloader.go:250 dpchain/blockSync/downloader.(*Downloader).FindAncestor @@@@@@@@@@@@@@@@@@  请求方：本地头区块:5 , 同步起始区块:0

[2023-12-14 11:05:57] [info] synchronization.go:270 dpchain/blockSync.(*SyncProtocal).handleMsg Block synchronization:  Receive BlockHashesMsg from remote peer (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0), the number of BlockHashes is (7)

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] downloader.go:298 dpchain/blockSync/downloader.(*Downloader).FindAncestor @@@@@@@@@@@@@@@@@@  处理后起始区块:5,请求个数:1

[2023-12-14 11:05:57] [info] downloader.go:199 dpchain/blockSync/downloader.(*Downloader).syncWithPeer Block synchronization downloader: Fetch common ancestor block is succeed, ancestor blockNumber (5), Number of blocks (1) waiting for synchronization

[2023-12-14 11:05:57] [info] blockChain.go:397 dpchain/core/eles.(*BlockChain).GetCurrentBlock [Block Chain] GetCurrentBlock 被调用

[2023-12-14 11:05:57] [info] blockChain.go:286 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 被调用

[2023-12-14 11:05:57] [info] blockChain.go:313 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 调用结束

[2023-12-14 11:05:57] [info] downloader.go:323 dpchain/blockSync/downloader.(*Downloader).fetchBlocks Block synchronization downloader: Start to fetch (1) blocks by remote node (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0) from block (5) ...

[2023-12-14 11:05:57] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-14 11:05:57] [info] blockChain.go:181 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 开始启动, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:186 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 进行新区块的插入, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:192 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成新区块的插入, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:194 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备执行区块内的交易, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:202 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对区块内交易的执行, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:217 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备更新交易过滤器, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:221 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对交易过滤器的更新, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5

[2023-12-14 11:05:57] [info] blockChain.go:231 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备更新区块链状态量, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5 , block Height:7 

[2023-12-14 11:05:57] [info] blockChain.go:240 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对区块链状态量的更新, block Hash:5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5 , block Height:7 

[2023-12-14 11:05:57] [info] downloader.go:360 dpchain/blockSync/downloader.(*Downloader).fetchBlocks Block synchronization downloader: Block synchronization succeeded, Current local blockchain status: CurrentHeight (7), CurrentVersion (5928bb059227347eb0ba03d7d341aae252973742536a939bc690253229e6bcb5)

[2023-12-14 11:05:57] [info] downloader.go:154 dpchain/blockSync/downloader.(*Downloader).Synchronise Block synchronization downloader: Block Synchronisation with node (13229046edacba0bf2fae9ebbe0f3c7eccaa0291458983f36512d12b69457344de3e150a6441c1dc942012fa78af7eab5c3c12d984e66c5be60562b8d3b706d0) has been completed!

[2023-12-14 11:05:57] [info] dperCommand.go:546 dpchain/dper/client/commandLine.(*CommandLine).printTransactionCheckResults Transaction ID: e86d46089b35d9f4acf0616bc91f594f10a09b5e6e036e7414c72e951e0e126c

[2023-12-14 11:05:57] [info] dperCommand.go:547 dpchain/dper/client/commandLine.(*CommandLine).printTransactionCheckResults Valid: true

[2023-12-14 11:05:57] [info] dperCommand.go:548 dpchain/dper/client/commandLine.(*CommandLine).printTransactionCheckResults Transaction Results: [Credential: {Identifier:3ac31f81-2a79-4f2d-bdec-4497b5cb93b1 Subject:DID:22222222 Issuer:DID:11111111 Validity:2023-12-29 Purpose:GetData Signature:f0901058ea48e9ac698de1aaeda30a5a26c972d69e58b8a607cf5ce14009b35c526f15bcb6b807d738ebdce7bf1671539de43fbcb1ffdfde24942676767a255401 Reassign:OK IssuerAddress:488e4b944d228f1f01892cfc5bfc060ed37e2f62 SubjectAddress:a68d361b000f35cfcdc5a5c18a90e50a4ec3b4e9 Transfer:{Recipient: RecipientPurpose: RecipientAddress: DonorSignature: Timestamp:}}]

[2023-12-14 11:05:57] [info] dperCommand.go:549 dpchain/dper/client/commandLine.(*CommandLine).printTransactionCheckResults Consensus Delay: 2128 ms

[2023-12-14 11:05:58] [info] server.go:616 dpchain/p2p/server.(*Server).setupConn p2pServer等待完成与目标节点(127.0.0.1:20132)的加密handshake与协议handshake!

[2023-12-14 11:05:58] [info] server.go:602 dpchain/p2p/server.(*Server).listenLoop 接收到来自节点 127.0.0.1:58354的p2p连接请求

[2023-12-14 11:05:58] [info] server.go:616 dpchain/p2p/server.(*Server).setupConn p2pServer等待完成与目标节点(127.0.0.1:58354)的加密handshake与协议handshake!

[2023-12-14 11:05:58] [info] server.go:636 dpchain/p2p/server.(*Server).setupConn p2pServer完成与目标节点(127.0.0.1:58354)的加密handshake!

[2023-12-14 11:05:58] [info] server.go:643 dpchain/p2p/server.(*Server).setupConn 下面进行加密handshake的 checkpoint!!! ,127.0.0.1:58354 

[2023-12-14 11:05:58] [info] server.go:636 dpchain/p2p/server.(*Server).setupConn p2pServer完成与目标节点(127.0.0.1:20132)的加密handshake!

[2023-12-14 11:05:58] [info] server.go:643 dpchain/p2p/server.(*Server).setupConn 下面进行加密handshake的 checkpoint!!! ,127.0.0.1:20132 

[2023-12-14 11:05:58] [warning] server.go:646 dpchain/p2p/server.(*Server).setupConn inbound conn 8870562e71780cf4 127.0.0.1:58354 failed checkpoint posthandshake: Connected to self
[2023-12-14 11:05:58] [warning] server.go:646 dpchain/p2p/server.(*Server).setupConn dyn dial conn 8870562e71780cf4 127.0.0.1:20132 failed checkpoint posthandshake: Connected to self
