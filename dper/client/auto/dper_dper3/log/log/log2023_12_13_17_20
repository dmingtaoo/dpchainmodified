[2023-12-13 17:20:27] [info] server.go:616 dpchain/p2p/server.(*Server).setupConn p2pServer等待完成与目标节点(127.0.0.1:20133)的加密handshake与协议handshake!

[2023-12-13 17:20:27] [info] server.go:602 dpchain/p2p/server.(*Server).listenLoop 接收到来自节点 127.0.0.1:63976的p2p连接请求

[2023-12-13 17:20:27] [info] server.go:616 dpchain/p2p/server.(*Server).setupConn p2pServer等待完成与目标节点(127.0.0.1:63976)的加密handshake与协议handshake!

[2023-12-13 17:20:27] [info] server.go:636 dpchain/p2p/server.(*Server).setupConn p2pServer完成与目标节点(127.0.0.1:63976)的加密handshake!

[2023-12-13 17:20:27] [info] server.go:643 dpchain/p2p/server.(*Server).setupConn 下面进行加密handshake的 checkpoint!!! ,127.0.0.1:63976 

[2023-12-13 17:20:27] [warning] server.go:646 dpchain/p2p/server.(*Server).setupConn inbound conn 60dc34b7697c9058 127.0.0.1:63976 failed checkpoint posthandshake: Connected to self
[2023-12-13 17:20:27] [info] server.go:636 dpchain/p2p/server.(*Server).setupConn p2pServer完成与目标节点(127.0.0.1:20133)的加密handshake!

[2023-12-13 17:20:27] [info] server.go:643 dpchain/p2p/server.(*Server).setupConn 下面进行加密handshake的 checkpoint!!! ,127.0.0.1:20133 

[2023-12-13 17:20:27] [warning] server.go:646 dpchain/p2p/server.(*Server).setupConn dyn dial conn 60dc34b7697c9058 127.0.0.1:20133 failed checkpoint posthandshake: Connected to self
[2023-12-13 17:20:28] [info] consensusPromoter.go:229 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: Current Consensus Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) has receive transaction (count:1) from other consensus node (fc6d0bad99812d3e97b5af7f82c8346f89e77f01) 

[2023-12-13 17:20:29] [info] consensusPromoter.go:253 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: Current Consensus Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) has receive pre-prepare Message from Leader (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61) within group (net0)

[2023-12-13 17:20:29] [info] consensusPromoter.go:256 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: Leader (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) doesn't have corresponding roundHandler, Waiting for creation....

[2023-12-13 17:20:29] [info] transactionPool.go:195 dpchain/core/eles.(*TransactionPool).QuickFindTxs 即将被添加的交易 ： 1ca9a6a7461858a8cf43bfa0d7b5880130090efd85f2caa37f3e46b384f9f451

[2023-12-13 17:20:29] [info] transactionPool.go:209 dpchain/core/eles.(*TransactionPool).QuickFindTxs QuickFind获取的结果, 第0条交易： 1ca9a6a7461858a8cf43bfa0d7b5880130090efd85f2caa37f3e46b384f9f451

[2023-12-13 17:20:29] [info] consensusPromoter.go:302 dpchain/core/consensus.(*ConsensusPromoter).lowerUpdate [TPBFT Consensus] Lower Consensus: The new roundHandler (roundID:060e0dbe4f67540e5b2131c1be21ec46afedbb144f9ac50a0df4279736641f53) has been created and being running

[2023-12-13 17:20:29] [info] blockChain.go:537 dpchain/core/eles.(*BlockChain).StaleCheck [Block Chain] StaleCheck 被调用

[2023-12-13 17:20:29] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 99d430df88c822618c023200d002266e2ff45b7bd56053810d340049f2b4d2b4ed24697678e5ff60ea02d92af84e1f4f3e3773713879214417eedfa58155d906, msgcode: 2

[2023-12-13 17:20:29] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61, msgcode: 2

[2023-12-13 17:20:29] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: 7d0efb28d2df0371574508110efbdfea0dcb408d91c250afeef29276dec1001bb18c33ae7d0f99edcfe39da384b73d9279f864ea5dfebf15cbe0c2e791951ac1, msgcode: 2

[2023-12-13 17:20:29] [info] roundHandler.go:286 dpchain/core/consensus.(*roundHandler).SendPrepareMsg [TPBFT Consensus] Lower Channel: Current Consensus Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) has broadcast prepareMsg within roundID (060e0dbe4f67540e5b2131c1be21ec46afedbb144f9ac50a0df4279736641f53)

[2023-12-13 17:20:29] [info] roundHandler.go:161 dpchain/core/consensus.(*roundHandler).Start [TPBFT Consensus] Lower Channel: roudHandler with round ID: 060e0dbe4f67540e5b2131c1be21ec46afedbb144f9ac50a0df4279736641f53 starts to running!

[2023-12-13 17:20:29] [info] roundHandler.go:113 dpchain/core/consensus.(*roundHandler).processMsg [TPBFT Consensus] Lower Consensus: Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) receive validated PrepareMsg from Node (99d430df88c822618c023200d002266e2ff45b7bd56053810d340049f2b4d2b4ed24697678e5ff60ea02d92af84e1f4f3e3773713879214417eedfa58155d906) and has added it into roundHandler.prepareMsgPool

[2023-12-13 17:20:29] [info] roundHandler.go:113 dpchain/core/consensus.(*roundHandler).processMsg [TPBFT Consensus] Lower Consensus: Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) receive validated PrepareMsg from Node (7d0efb28d2df0371574508110efbdfea0dcb408d91c250afeef29276dec1001bb18c33ae7d0f99edcfe39da384b73d9279f864ea5dfebf15cbe0c2e791951ac1) and has added it into roundHandler.prepareMsgPool

[2023-12-13 17:20:29] [info] roundHandler.go:200 dpchain/core/consensus.(*roundHandler).Do [TPBFT Consensus] Lower Channel: Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) has completed the prepare phase consensus, validOrder:[1]

[2023-12-13 17:20:29] [info] tpbt_common.go:277 dpchain/core/consensus.(*Ctpbft).TidyTransactions [TPBFT Consensus] Ctpbft: Leader (2a5c4688a2aa87d4bcaa497fe61313f9efd27c01) Tidy candidateBlock successfully, blockID:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685, txSum:1

[2023-12-13 17:20:29] [info] peer.go:76 dpchain/core/separator.(*peer).sendMsg Separator: Send msg to peer: cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61, msgcode: 2

[2023-12-13 17:20:29] [info] roundHandler.go:238 dpchain/core/consensus.(*roundHandler).Do [TPBFT Consensus] Lower Channel: Node (60dc34b7697c9058006d6f60e24048bb61c531142310decfc7970ac2921144984006dd9b95aafae167f3880497bf6741b5ed1f2c172d33fac779bada703dba6a) has completed the tidy phase consensus and has sent CommitMsg to the Leader (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61)

[2023-12-13 17:20:29] [info] roundHandler.go:170 dpchain/core/consensus.(*roundHandler).Stop.func1 [TPBFT Consensus] Lower Channel: roudHandler with round ID: 060e0dbe4f67540e5b2131c1be21ec46afedbb144f9ac50a0df4279736641f53 stop!

[2023-12-13 17:20:30] [info] synchronization.go:451 dpchain/blockSync.(*SyncProtocal).syncer Block synchronization: Start block synchronization with node (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61)...  ---  local node currentHeight (0), remote node currentHeight (1)

[2023-12-13 17:20:30] [info] downloader.go:150 dpchain/blockSync/downloader.(*Downloader).Synchronise Block synchronization downloader: Attempting synchronise with node (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61)... RemoteCurrentVersion (dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685) RemoteCurrentHeight (1)

[2023-12-13 17:20:30] [info] downloader.go:229 dpchain/blockSync/downloader.(*Downloader).FindAncestor Block synchronization downloader: Attempting to query the common ancestor block with node (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61) ...

[2023-12-13 17:20:30] [info] blockChain.go:397 dpchain/core/eles.(*BlockChain).GetCurrentBlock [Block Chain] GetCurrentBlock 被调用

[2023-12-13 17:20:30] [info] blockChain.go:286 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 被调用

[2023-12-13 17:20:30] [info] blockChain.go:309 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 调用结束

[2023-12-13 17:20:30] [info] downloader.go:250 dpchain/blockSync/downloader.(*Downloader).FindAncestor @@@@@@@@@@@@@@@@@@  请求方：本地头区块:0 , 同步起始区块:0

[2023-12-13 17:20:30] [info] synchronization.go:270 dpchain/blockSync.(*SyncProtocal).handleMsg Block synchronization:  Receive BlockHashesMsg from remote peer (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61), the number of BlockHashes is (1)

[2023-12-13 17:20:30] [info] downloader.go:298 dpchain/blockSync/downloader.(*Downloader).FindAncestor @@@@@@@@@@@@@@@@@@  处理后起始区块:0,请求个数:1

[2023-12-13 17:20:30] [info] downloader.go:199 dpchain/blockSync/downloader.(*Downloader).syncWithPeer Block synchronization downloader: Fetch common ancestor block is succeed, ancestor blockNumber (0), Number of blocks (1) waiting for synchronization

[2023-12-13 17:20:30] [info] blockChain.go:397 dpchain/core/eles.(*BlockChain).GetCurrentBlock [Block Chain] GetCurrentBlock 被调用

[2023-12-13 17:20:30] [info] blockChain.go:286 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 被调用

[2023-12-13 17:20:30] [info] blockChain.go:309 dpchain/core/eles.(*BlockChain).GetBlockFromHash [Block Chain] GetBlockFromHash 调用结束

[2023-12-13 17:20:30] [info] downloader.go:323 dpchain/blockSync/downloader.(*Downloader).fetchBlocks Block synchronization downloader: Start to fetch (1) blocks by remote node (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61) from block (0) ...

[2023-12-13 17:20:30] [info] blockChain.go:320 dpchain/core/eles.(*BlockChain).FindVersion [Block Chain] FindVersion 被调用

[2023-12-13 17:20:30] [info] blockChain.go:181 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 开始启动, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:186 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 进行新区块的插入, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:192 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成新区块的插入, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:194 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备执行区块内的交易, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:202 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对区块内交易的执行, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:217 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备更新交易过滤器, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:221 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对交易过滤器的更新, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685

[2023-12-13 17:20:30] [info] blockChain.go:231 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 准备更新区块链状态量, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685 , block Height:1 

[2023-12-13 17:20:30] [info] blockChain.go:240 dpchain/core/eles.(*BlockChain).InsertChain [Block Chain] InsertChain 完成对区块链状态量的更新, block Hash:dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685 , block Height:1 

[2023-12-13 17:20:30] [info] downloader.go:360 dpchain/blockSync/downloader.(*Downloader).fetchBlocks Block synchronization downloader: Block synchronization succeeded, Current local blockchain status: CurrentHeight (1), CurrentVersion (dbaef331c1564a2e63593b55571f51c217e1bcf8b8523abf324ef76975279685)

[2023-12-13 17:20:30] [info] downloader.go:154 dpchain/blockSync/downloader.(*Downloader).Synchronise Block synchronization downloader: Block Synchronisation with node (cce471fc46e9402940bb2bcc4fbcee724dfcc14e020f6362ec2ad827bf6c4ef7354165b9de64807d37caae4888c31a86c34b77594ee64be150612991f6e95b61) has been completed!

